# NORMAL DANCE - Web3 Music Platform

## üéµ –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏

### ‚ú® –£–ª—É—á—à–µ–Ω–∏—è

1. **‚úÖ React Router DOM** - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å URL
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ URL –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
   - –ò—Å—Ç–æ—Ä–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ (back/forward)
   - Deep linking
   - Lazy loading —Å—Ç—Ä–∞–Ω–∏—Ü

2. **‚úÖ Zustand State Management** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
   - `useAuthStore` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è  
   - `usePlayerStore` - –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä
   - `useTracksStore` - –¢—Ä–µ–∫–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
   - –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ localStorage

3. **‚úÖ –†–µ–∞–ª—å–Ω—ã–π Audio Player** - HTML5 –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä
   - Play/Pause/Next/Previous
   - Seek bar —Å –ø–µ—Ä–µ–º–æ—Ç–∫–æ–π
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –≥—Ä–æ–º–∫–æ—Å—Ç–∏
   - Repeat (off/one/all)
   - Shuffle playlist
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏

4. **‚úÖ SEO –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - react-helmet-async
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Open Graph
   - –£–ª—É—á—à–µ–Ω–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

5. **üîÑ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ Supabase** - Backend ready
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ @supabase/supabase-js
   - –ì–æ—Ç–æ–≤–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å PostgreSQL
   - –ì–æ—Ç–æ–≤–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js (v18 –∏–ª–∏ –≤—ã—à–µ)
- npm –∏–ª–∏ yarn

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
GEMINI_API_KEY=your_gemini_api_key_here
# SUPABASE_URL=your_supabase_url
# SUPABASE_ANON_KEY=your_supabase_anon_key
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ Dev —Å–µ—Ä–≤–µ—Ä–∞

```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ `http://localhost:3000`

### –®–∞–≥ 4: Production build

```bash
npm run build
npm run preview
```

---

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
normal-dance/
‚îú‚îÄ‚îÄ stores/              # üÜï Zustand stores
‚îÇ   ‚îú‚îÄ‚îÄ useAuthStore.ts     # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ usePlayerStore.ts   # –ü–ª–µ–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ useTracksStore.ts   # –¢—Ä–µ–∫–∏
‚îú‚îÄ‚îÄ routes/              # üÜï Router configuration
‚îÇ   ‚îî‚îÄ‚îÄ AppRoutes.tsx       # –ú–∞—Ä—à—Ä—É—Ç—ã —Å lazy loading
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Layout.tsx          # üîÑ –û–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è router
‚îÇ   ‚îú‚îÄ‚îÄ PlayerBar.tsx       # üÜï –ù–æ–≤—ã–π –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–ª–µ–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ AudioPlayer.tsx     # üÜï HTML5 audio element
‚îú‚îÄ‚îÄ pages/              # üîÑ –û–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è stores
‚îÇ   ‚îú‚îÄ‚îÄ Feed.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Upload.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Wallet.tsx
‚îÇ   ‚îî‚îÄ‚îÄ ... (–≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ)
‚îú‚îÄ‚îÄ App.tsx             # üîÑ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è router
‚îî‚îÄ‚îÄ package.json        # üîÑ –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ù–∞–≤–∏–≥–∞—Ü–∏—è

- **URL-–∞–¥—Ä–µ—Å–∞**: –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç —Å–≤–æ–π URL:
  - `/feed` - –ì–ª–∞–≤–Ω–∞—è –ª–µ–Ω—Ç–∞
  - `/trends` - –¢—Ä–µ–Ω–¥—ã
  - `/library` - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
  - `/upload` - –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–µ–∫–æ–≤
  - `/wallet` - –ö–æ—à–µ–ª—ë–∫
  - –∏ —Ç.–¥.
  
### –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä

- **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ**: –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ç—Ä–µ–∫ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- **–ü–ª–µ–π–ª–∏—Å—Ç**: –¢—Ä–µ–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **Seek**: –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ progress bar –¥–ª—è –ø–µ—Ä–µ–º–æ—Ç–∫–∏
- **–ì—Ä–æ–º–∫–æ—Å—Ç—å**: –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —á–µ—Ä–µ–∑ volume slider
- **Repeat**: –¶–∏–∫–ª –ø–æ –æ–¥–Ω–æ–º—É —Ç—Ä–µ–∫—É –∏–ª–∏ –≤—Å–µ–º—É –ø–ª–µ–π–ª–∏—Å—Ç—É
- **Shuffle**: –°–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### State Management

–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Zustand stores. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```typescript
import { usePlayerStore } from './stores/usePlayerStore';

const MyComponent = () => {
  const { currentTrack, isPlaying, togglePlay } = usePlayerStore();
  
  return (
    <button onClick={togglePlay}>
      {isPlaying ? 'Pause' : 'Play'}
    </button>
  );
};
```

---

## üîß –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Web3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ MetaMask/Phantom –∫–æ—à–µ–ª—å–∫–æ–≤
- –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è NFT –º–∏–Ω—Ç–∏–Ω–≥–∞
- IPFS –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—É–¥–∏–æ-—Ñ–∞–π–ª–æ–≤  
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ

### 2. Supabase Backend

```typescript
// services/supabase.ts
import { createClient } from '@supabase/supabase-js';

export const supabase = createClient(
  process.env.SUPABASE_URL!,
  process.env.SUPABASE_ANON_KEY!
);

// –ü—Ä–∏–º–µ—Ä: –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–µ–∫–æ–≤ –∏–∑ Supabase
const { data, error } = await supabase
  .from('tracks')
  .select('*')
  .order('created_at', { ascending: false });
```

### 3. –†–µ–∞–ª—å–Ω—ã–µ –∞—É–¥–∏–æ-—Ñ–∞–π–ª—ã

–°–µ–π—á–∞—Å –ø–ª–µ–µ—Ä –≥–æ—Ç–æ–≤, –Ω–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–µ MP3/WAV —Ñ–∞–π–ª—ã:

- –û–±–Ω–æ–≤–∏—Ç–µ `Track.audioUrl` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ Supabase Storage –∏–ª–∏ IPFS
- –î–æ–±–∞–≤—å—Ç–µ upload —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ Upload.tsx

### 4. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```typescript
// pages/Auth.tsx - –æ–±–Ω–æ–≤–∏—Ç–µ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
import { useAuthStore } from '../stores/useAuthStore';

const handleLogin = async () => {
  // Web3 wallet
  const accounts = await window.ethereum.request({ 
    method: 'eth_requestAccounts' 
  });
  
  // –ò–ª–∏ traditional auth
  const { data, error } = await supabase.auth.signInWithPassword({
    email, password
  });
  
  if (data.user) {
    useAuthStore.getState().login({
      id: data.user.id,
      username: data.user.email
    });
  }
};
```

---

## üì¶ –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```json
{
  "react-router-dom": "^6.28.0",      // –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
  "zustand": "^5.0.2",                // State management
  "react-helmet-async": "^2.0.5",     // SEO –º–µ—Ç–∞-—Ç–µ–≥–∏
  "@supabase/supabase-js": "^2.47.7"  // Backend (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

---

## üêõ Troubleshooting

### TypeScript –æ—à–∏–±–∫–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ "Cannot find module", –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
rm -rf node_modules
rm package-lock.json
npm install
```

### –ü–ª–µ–µ—Ä –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫

- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É —Ç—Ä–µ–∫–æ–≤ –µ—Å—Ç—å `audioUrl`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ CORS –æ—à–∏–±–∫–∏
- –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ MP3 —Å—Å—ã–ª–∫–∏

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `BrowserRouter` –æ–±–µ—Ä–Ω—É—Ç –≤–æ–∫—Ä—É–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –ø—É—Ç–∏ –≤ `routes/AppRoutes.tsx` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `npm run dev`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é**: –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –ø–æ —Ä–∞–∑–Ω—ã–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–ª–µ–µ—Ä**: –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ç—Ä–µ–∫–∏ (–ø–æ–∫–∞ –±–µ–∑ –∑–≤—É–∫–∞)
4. **–î–æ–±–∞–≤—å—Ç–µ –∞—É–¥–∏–æ**: –ó–∞–≥—Ä—É–∑–∏—Ç–µ MP3 —Ñ–∞–π–ª—ã –∏ –æ–±–Ω–æ–≤–∏—Ç–µ `audioUrl`
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Supabase** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ supabase.com

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–í—Å–µ lint –æ—à–∏–±–∫–∏** —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å "Cannot find module" –∏—Å—á–µ–∑–Ω—É—Ç –ø–æ—Å–ª–µ `npm install`.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** –≥–æ—Ç–æ–≤–∞ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è - –¥–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ stores, routes –∏ pages –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

**Production-ready**: –ö–æ–¥ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω —Å lazy loading, code splitting –∏ SEO.

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å - –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ issue –∏–ª–∏ –ø–∏—à–∏—Ç–µ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º! üöÄ
